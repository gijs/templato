/*! templato - v0.1.0 - 2012-05-29
* Copyright (c) 2012 Vadim Demedes; Licensed MIT. */
(function(){require.register("compiler.js",function(module,exports,require){function isConstant(a){if(/^ *("([^"\\]*(\\.[^"\\]*)*)"|'([^'\\]*(\\.[^'\\]*)*)'|true|false|null|undefined) *$/i.test(a))return!0;if(!isNaN(Number(a)))return!0;var b;return(b=/^ *\[(.*)\] *$/.exec(a))?b[1].split(",").every(isConstant):!1}function escape(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var nodes=require("./nodes"),filters=require("./filters"),doctypes=require("./doctypes"),selfClosing=require("./self-closing"),runtime=require("./runtime"),utils=require("./utils");Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});var Compiler=module.exports=function(a,b){this.options=b=b||{},this.node=a,this.hasCompiledDoctype=!1,this.hasCompiledTag=!1,this.pp=b.pretty||!1,this.debug=!1!==b.compileDebug,this.indents=0,this.parentIndents=0,b.doctype&&this.setDoctype(b.doctype)};Compiler.prototype={compile:function(){return this.buf=["var interp;"],this.pp&&this.buf.push("var __indent = [];"),this.lastBufferedIdx=-1,this.visit(this.node),this.buf.join("\n")},setDoctype:function(a){var b=doctypes[(a||"default").toLowerCase()];b=b||"<!DOCTYPE "+a+">",this.doctype=b,this.terse="5"==a||"html"==a,this.xml=0==this.doctype.indexOf("<?xml")},buffer:function(a,b){b&&(a=utils.escape(a)),this.lastBufferedIdx==this.buf.length?(this.lastBuffered+=a,this.buf[this.lastBufferedIdx-1]="buf.push('"+this.lastBuffered+"');"):(this.buf.push("buf.push('"+a+"');"),this.lastBuffered=a,this.lastBufferedIdx=this.buf.length)},prettyIndent:function(a,b){a=a||0,b=b?"\\n":"",this.buffer(b+Array(this.indents+a).join("  ")),this.parentIndents&&this.buf.push("buf.push.apply(buf, __indent);")},visit:function(a){var b=this.debug;b&&this.buf.push("__jade.unshift({ lineno: "+a.line+", filename: "+(a.filename?JSON.stringify(a.filename):"__jade[0].filename")+" });"),!1===a.debug&&this.debug&&(this.buf.pop(),this.buf.pop()),this.visitNode(a),b&&this.buf.push("__jade.shift();")},visitNode:function(a){var b=a.constructor.name||a.constructor.toString().match(/function ([^(\s]+)()/)[1];return this["visit"+b](a)},visitCase:function(a){var b=this.withinCase;this.withinCase=!0,this.buf.push("switch ("+a.expr+"){"),this.visit(a.block),this.buf.push("}"),this.withinCase=b},visitWhen:function(a){"default"==a.expr?this.buf.push("default:"):this.buf.push("case "+a.expr+":"),this.visit(a.block),this.buf.push("  break;")},visitLiteral:function(a){var b=a.str.replace(/\n/g,"\\\\n");this.buffer(b)},visitBlock:function(a){var b=a.nodes.length,c=this.escape,d=this.pp;if(this.parentIndents&&a.mode){d&&this.buf.push("__indent.push('"+Array(this.indents+1).join("  ")+"');"),this.buf.push("block && block();"),d&&this.buf.push("__indent.pop();");return}d&&b>1&&!c&&a.nodes[0].isText&&a.nodes[1].isText&&this.prettyIndent(1,!0);for(var e=0;e<b;++e)d&&e>0&&!c&&a.nodes[e].isText&&a.nodes[e-1].isText&&this.prettyIndent(1,!1),this.visit(a.nodes[e]),a.nodes[e+1]&&a.nodes[e].isText&&a.nodes[e+1].isText&&this.buffer("\\n")},visitDoctype:function(a){a&&(a.val||!this.doctype)&&this.setDoctype(a.val||"default"),this.doctype&&this.buffer(this.doctype),this.hasCompiledDoctype=!0},visitMixin:function(a){var b=a.name.replace(/-/g,"_")+"_mixin",c=a.args||"",d=a.block,e=a.attrs,f=this.pp;if(a.call){f&&this.buf.push("__indent.push('"+Array(this.indents+1).join("  ")+"');");if(d||e.length){this.buf.push(b+".call({");if(d){this.buf.push("block: function(){"),this.parentIndents++;var g=this.indents;this.indents=0,this.visit(a.block),this.indents=g,this.parentIndents--,e.length?this.buf.push("},"):this.buf.push("}")}if(e.length){var h=this.attrs(e);h.inherits?this.buf.push("attributes: merge({"+h.buf+"}, attributes), escaped: merge("+h.escaped+", escaped, true)"):this.buf.push("attributes: {"+h.buf+"}, escaped: "+h.escaped)}c?this.buf.push("}, "+c+");"):this.buf.push("});")}else this.buf.push(b+"("+c+");");f&&this.buf.push("__indent.pop();")}else this.buf.push("var "+b+" = function("+c+"){"),this.buf.push("var block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};"),this.parentIndents++,this.visit(d),this.parentIndents--,this.buf.push("};")},visitTag:function(a){this.indents++;var b=a.name,c=this.pp;this.hasCompiledTag||(!this.hasCompiledDoctype&&"html"==b&&this.visitDoctype(),this.hasCompiledTag=!0),c&&!a.isInline()&&this.prettyIndent(0,!0),(~selfClosing.indexOf(b)||a.selfClosing)&&!this.xml?(this.buffer("<"+b),this.visitAttributes(a.attrs),this.terse?this.buffer(">"):this.buffer("/>")):(a.attrs.length?(this.buffer("<"+b),a.attrs.length&&this.visitAttributes(a.attrs),this.buffer(">")):this.buffer("<"+b+">"),a.code&&this.visitCode(a.code),this.escape="pre"==a.name,this.visit(a.block),c&&!a.isInline()&&"pre"!=a.name&&!a.canInline()&&this.prettyIndent(0,!0),this.buffer("</"+b+">")),this.indents--},visitFilter:function(a){var b=filters[a.name];if(!b)throw a.isASTFilter?new Error('unknown ast filter "'+a.name+':"'):new Error('unknown filter ":'+a.name+'"');if(a.isASTFilter)this.buf.push(b(a.block,this,a.attrs));else{var c=a.block.nodes.map(function(a){return a.val}).join("\n");a.attrs=a.attrs||{},a.attrs.filename=this.options.filename,this.buffer(utils.text(b(c,a.attrs)))}},visitText:function(a){a=utils.text(a.val.replace(/\\/g,"\\\\")),this.escape&&(a=escape(a)),this.buffer(a)},visitComment:function(a){if(!a.buffer)return;this.pp&&this.prettyIndent(1,!0),this.buffer("<!--"+utils.escape(a.val)+"-->")},visitBlockComment:function(a){if(!a.buffer)return;0==a.val.trim().indexOf("if")?(this.buffer("<!--["+a.val.trim()+"]>"),this.visit(a.block),this.buffer("<![endif]-->")):(this.buffer("<!--"+a.val),this.visit(a.block),this.buffer("-->"))},visitCode:function(a){if(a.buffer){var b=a.val.trimLeft();this.buf.push("var __val__ = "+b),b='null == __val__ ? "" : __val__',a.escape&&(b="escape("+b+")"),this.buf.push("buf.push("+b+");")}else this.buf.push(a.val);a.block&&(a.buffer||this.buf.push("{"),this.visit(a.block),a.buffer||this.buf.push("}"))},visitEach:function(a){this.buf.push("// iterate "+a.obj+"\n"+";(function(){\n"+"  if ('number' == typeof "+a.obj+".length) {\n"+"    for (var "+a.key+" = 0, $$l = "+a.obj+".length; "+a.key+" < $$l; "+a.key+"++) {\n"+"      var "+a.val+" = "+a.obj+"["+a.key+"];\n"),this.visit(a.block),this.buf.push("    }\n  } else {\n    for (var "+a.key+" in "+a.obj+") {\n"+"      if ("+a.obj+".hasOwnProperty("+a.key+")){"+"      var "+a.val+" = "+a.obj+"["+a.key+"];\n"),this.visit(a.block),this.buf.push("      }\n"),this.buf.push("   }\n  }\n}).call(this);\n")},visitAttributes:function(attrs){var val=this.attrs(attrs);val.inherits?this.buf.push("buf.push(attrs(merge({ "+val.buf+" }, attributes), merge("+val.escaped+", escaped, true)));"):val.constant?(eval("var buf={"+val.buf+"};"),this.buffer(runtime.attrs(buf,JSON.parse(val.escaped)),!0)):this.buf.push("buf.push(attrs({ "+val.buf+" }, "+val.escaped+"));")},attrs:function(a){var b=[],c=[],d={},e=a.every(function(a){return isConstant(a.val)}),f=!1;return this.terse&&b.push("terse: true"),a.forEach(function(a){if(a.name=="attributes")return f=!0;d[a.name]=a.escaped;if(a.name=="class")c.push("("+a.val+")");else{var e="'"+a.name+"':("+a.val+")";b.push(e)}}),c.length&&(c=c.join(" + ' ' + "),b.push("class: "+c)),{buf:b.join(", ").replace("class:",'"class":'),escaped:JSON.stringify(d),inherits:f,constant:e}}}}),require.register("doctypes.js",function(a,b,c){a.exports={5:"<!DOCTYPE html>","default":"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">'}}),require.register("filters.js",function(a,b,c){a.exports={cdata:function(a){return"<![CDATA[\\n"+a+"\\n]]>"},sass:function(a){a=a.replace(/\\n/g,"\n");var b=c("sass").render(a).replace(/\n/g,"\\n");return'<style type="text/css">'+b+"</style>"},stylus:function(a,b){var d;a=a.replace(/\\n/g,"\n");var e=c("stylus");return e(a,b).render(function(a,b){if(a)throw a;d=b.replace(/\n/g,"\\n")}),'<style type="text/css">'+d+"</style>"},less:function(a){var b;return a=a.replace(/\\n/g,"\n"),c("less").render(a,function(a,c){if(a)throw a;b='<style type="text/css">'+c.replace(/\n/g,"\\n")+"</style>"}),b},markdown:function(a){var b;try{b=c("markdown")}catch(d){try{b=c("discount")}catch(d){try{b=c("markdown-js")}catch(d){try{b=c("marked")}catch(d){throw new Error("Cannot find markdown library, install markdown, discount, or marked.")}}}}return a=a.replace(/\\n/g,"\n"),b.parse(a).replace(/\n/g,"\\n").replace(/'/g,"&#39;")},coffeescript:function(a){a=a.replace(/\\n/g,"\n");var b=c("coffee-script").compile(a).replace(/\\/g,"\\\\").replace(/\n/g,"\\n");return'<script type="text/javascript">\\n'+b+"</script>"}}}),require.register("inline-tags.js",function(a,b,c){a.exports=["a","abbr","acronym","b","br","code","em","font","i","img","ins","kbd","map","samp","small","span","strong","sub","sup"]}),require.register("jade.js",function(a,b,c){function h(a,b){try{var c=new d(a,b.filename,b),e=new(b.compiler||f)(c.parse(),b),h=e.compile();return b.debug&&console.error("\nCompiled Function:\n\n[90m%s[0m",h.replace(/^/gm,"  ")),"var buf = [];\n"+(b.self?"var self = locals || {};\n"+h:"with (locals || {}) {\n"+h+"\n}\n")+'return buf.join("");'}catch(i){c=c.context(),g.rethrow(i,c.filename,c.lexer.lineno)}}var d=c("./parser"),e=c("./lexer"),f=c("./compiler"),g=c("./runtime");b.version="0.26.0",b.selfClosing=c("./self-closing"),b.doctypes=c("./doctypes"),b.filters=c("./filters"),b.utils=c("./utils"),b.Compiler=f,b.Parser=d,b.Lexer=e,b.nodes=c("./nodes"),b.runtime=g,b.cache={},b.compile=function(a,b){var b=b||{},c=b.client,d=b.filename?JSON.stringify(b.filename):"undefined",e;return b.compileDebug!==!1?e=["var __jade = [{ lineno: 1, filename: "+d+" }];","try {",h(String(a),b),"} catch (err) {","  rethrow(err, __jade[0].filename, __jade[0].lineno);","}"].join("\n"):e=h(String(a),b),c&&(e="var attrs = jade.attrs, escape = jade.escape, rethrow = jade.rethrow, merge = jade.merge;\n"+e),e=new Function("locals, attrs, escape, rethrow, merge",e),c?e:function(a){return e(a,g.attrs,g.escape,g.rethrow,g.merge)}},b.render=function(a,c,d){"function"==typeof c&&(d=c,c={});if(c.cache&&!c.filename)return d(new Error('the "filename" option is required for caching'));try{var e=c.filename,f=c.cache?b.cache[e]||(b.cache[e]=b.compile(a,c)):b.compile(a,c);d(null,f(c))}catch(g){d(g)}},b.renderFile=function(a,c,d){var e=a+":string";"function"==typeof c&&(d=c,c={});try{c.filename=a;var f=c.cache?b.cache[e]||(b.cache[e]=fs.readFileSync(a,"utf8")):fs.readFileSync(a,"utf8");b.render(f,c,d)}catch(g){d(g)}},b.__express=b.renderFile}),require.register("lexer.js",function(a,b,c){var d=a.exports=function(a,b){b=b||{},this.input=a.replace(/\r\n|\r/g,"\n"),this.colons=b.colons,this.deferredTokens=[],this.lastIndents=0,this.lineno=1,this.stash=[],this.indentStack=[],this.indentRe=null,this.pipeless=!1};d.prototype={tok:function(a,b){return{type:a,line:this.lineno,val:b}},consume:function(a){this.input=this.input.substr(a)},scan:function(a,b){var c;if(c=a.exec(this.input))return this.consume(c[0].length),this.tok(b,c[1])},defer:function(a){this.deferredTokens.push(a)},lookahead:function(a){var b=a-this.stash.length;while(b-->0)this.stash.push(this.next());return this.stash[--a]},indexOfDelimiters:function(a,b){var c=this.input,d=0,e=0,f=0;for(var g=0,h=c.length;g<h;++g)if(a==c.charAt(g))++d;else if(b==c.charAt(g)&&++e==d){f=g;break}return f},stashed:function(){return this.stash.length&&this.stash.shift()},deferred:function(){return this.deferredTokens.length&&this.deferredTokens.shift()},eos:function(){if(this.input.length)return;return this.indentStack.length?(this.indentStack.shift(),this.tok("outdent")):this.tok("eos")},blank:function(){var a;if(a=/^\n *\n/.exec(this.input))return this.consume(a[0].length-1),this.pipeless?this.tok("text",""):this.next()},comment:function(){var a;if(a=/^ *\/\/(-)?([^\n]*)/.exec(this.input)){this.consume(a[0].length);var b=this.tok("comment",a[2]);return b.buffer="-"!=a[1],b}},tag:function(){var a;if(a=/^(\w[-:\w]*)(\/?)/.exec(this.input)){this.consume(a[0].length);var b,c=a[1];if(":"==c[c.length-1]){c=c.slice(0,-1),b=this.tok("tag",c),this.defer(this.tok(":"));while(" "==this.input[0])this.input=this.input.substr(1)}else b=this.tok("tag",c);return b.selfClosing=!!a[2],b}},filter:function(){return this.scan(/^:(\w+)/,"filter")},doctype:function(){return this.scan(/^(?:!!!|doctype) *([^\n]+)?/,"doctype")},id:function(){return this.scan(/^#([\w-]+)/,"id")},className:function(){return this.scan(/^\.([\w-]+)/,"class")},text:function(){return this.scan(/^(?:\| ?| ?)?([^\n]+)/,"text")},"extends":function(){return this.scan(/^extends? +([^\n]+)/,"extends")},prepend:function(){var a;if(a=/^prepend +([^\n]+)/.exec(this.input)){this.consume(a[0].length);var b="prepend",c=a[1],d=this.tok("block",c);return d.mode=b,d}},append:function(){var a;if(a=/^append +([^\n]+)/.exec(this.input)){this.consume(a[0].length);var b="append",c=a[1],d=this.tok("block",c);return d.mode=b,d}},block:function(){var a;if(a=/^block\b *(?:(prepend|append) +)?([^\n]*)/.exec(this.input)){this.consume(a[0].length);var b=a[1]||"replace",c=a[2],d=this.tok("block",c);return d.mode=b,d}},yield:function(){return this.scan(/^yield */,"yield")},include:function(){return this.scan(/^include +([^\n]+)/,"include")},"case":function(){return this.scan(/^case +([^\n]+)/,"case")},when:function(){return this.scan(/^when +([^:\n]+)/,"when")},"default":function(){return this.scan(/^default */,"default")},assignment:function(){var a;if(a=/^(\w+) += *([^;\n]+)( *;? *)/.exec(this.input)){this.consume(a[0].length);var b=a[1],c=a[2];return this.tok("code","var "+b+" = ("+c+");")}},call:function(){var a;if(a=/^\+([-\w]+)/.exec(this.input)){this.consume(a[0].length);var b=this.tok("call",a[1]);if(a=/^ *\((.*?)\)/.exec(this.input))/^ *[-\w]+ *=/.test(a[1])||(this.consume(a[0].length),b.args=a[1]);return b}},mixin:function(){var a;if(a=/^mixin +([-\w]+)(?: *\((.*)\))?/.exec(this.input)){this.consume(a[0].length);var b=this.tok("mixin",a[1]);return b.args=a[2],b}},conditional:function(){var a;if(a=/^(if|unless|else if|else)\b([^\n]*)/.exec(this.input)){this.consume(a[0].length);var b=a[1],c=a[2];switch(b){case"if":c="if ("+c+")";break;case"unless":c="if (!("+c+"))";break;case"else if":c="else if ("+c+")";break;case"else":c="else"}return this.tok("code",c)}},"while":function(){var a;if(a=/^while +([^\n]+)/.exec(this.input))return this.consume(a[0].length),this.tok("code","while ("+a[1]+")")},each:function(){var a;if(a=/^(?:- *)?(?:each|for) +(\w+)(?: *, *(\w+))? * in *([^\n]+)/.exec(this.input)){this.consume(a[0].length);var b=this.tok("each",a[1]);return b.key=a[2]||"$index",b.code=a[3],b}},code:function(){var a;if(a=/^(!?=|-)([^\n]+)/.exec(this.input)){this.consume(a[0].length);var b=a[1];a[1]=a[2];var c=this.tok("code",a[1]);return c.escape=b[0]==="=",c.buffer=b[0]==="="||b[1]==="=",c}},attrs:function(){if("("==this.input.charAt(0)){var a=this.indexOfDelimiters("(",")"),b=this.input.substr(1,a-1),c=this.tok("attrs"),d=b.length,e=this.colons,f=["key"],g,h="",i="",j,k,l;function m(){return f[f.length-1]}function n(a){return a.replace(/#\{([^}]+)\}/g,function(a,b){return j+" + ("+b+") + "+j})}this.consume(a+1),c.attrs={},c.escaped={};function o(a){var b=a;e&&":"==a&&(a="=");switch(a){case",":case"\n":switch(m()){case"expr":case"array":case"string":case"object":i+=a;break;default:f.push("key"),i=i.trim(),h=h.trim();if(""==h)return;h=h.replace(/^['"]|['"]$/g,"").replace("!",""),c.escaped[h]=g,c.attrs[h]=""==i?!0:n(i),h=i=""}break;case"=":switch(m()){case"key char":h+=b;break;case"val":case"expr":case"array":case"string":case"object":i+=b;break;default:g="!"!=l,f.push("val")}break;case"(":("val"==m()||"expr"==m())&&f.push("expr"),i+=a;break;case")":("expr"==m()||"val"==m())&&f.pop(),i+=a;break;case"{":"val"==m()&&f.push("object"),i+=a;break;case"}":"object"==m()&&f.pop(),i+=a;break;case"[":"val"==m()&&f.push("array"),i+=a;break;case"]":"array"==m()&&f.pop(),i+=a;break;case'"':case"'":switch(m()){case"key":f.push("key char");break;case"key char":f.pop();break;case"string":a==j&&f.pop(),i+=a;break;default:f.push("string"),i+=a,j=a}break;case"":break;default:switch(m()){case"key":case"key char":h+=a;break;default:i+=a}}l=a}for(var p=0;p<d;++p)o(b.charAt(p));return o(","),"/"==this.input.charAt(0)&&(this.consume(1),c.selfClosing=!0),c}},indent:function(){var a,b;this.indentRe?a=this.indentRe.exec(this.input):(b=/^\n(\t*) */,a=b.exec(this.input),a&&!a[1].length&&(b=/^\n( *)/,a=b.exec(this.input)),a&&a[1].length&&(this.indentRe=b));if(a){var c,d=a[1].length;++this.lineno,this.consume(d+1);if(" "==this.input[0]||"\t"==this.input[0])throw new Error("Invalid indentation, you can use tabs or spaces but not both");if("\n"==this.input[0])return this.tok("newline");if(this.indentStack.length&&d<this.indentStack[0]){while(this.indentStack.length&&this.indentStack[0]>d)this.stash.push(this.tok("outdent")),this.indentStack.shift();c=this.stash.pop()}else d&&d!=this.indentStack[0]?(this.indentStack.unshift(d),c=this.tok("indent",d)):c=this.tok("newline");return c}},pipelessText:function(){if(this.pipeless){if("\n"==this.input[0])return;var a=this.input.indexOf("\n");-1==a&&(a=this.input.length);var b=this.input.substr(0,a);return this.consume(b.length),this.tok("text",b)}},colon:function(){return this.scan(/^: */,":")},advance:function(){return this.stashed()||this.next()},next:function(){return this.deferred()||this.blank()||this.eos()||this.pipelessText()||this.yield()||this.doctype()||this["case"]()||this.when()||this["default"]()||this["extends"]()||this.append()||this.prepend()||this.block()||this.include()||this.mixin()||this.call()||this.conditional()||this.each()||this["while"]()||this.assignment()||this.tag()||this.filter()||this.code()||this.id()||this.className()||this.attrs()||this.indent()||this.comment()||this.colon()||this.text()}}}),require.register("nodes/attrs.js",function(a,b,c){var d=c("./node"),e=c("./block"),f=a.exports=function(){this.attrs=[]};f.prototype=new d,f.prototype.constructor=f,f.prototype.setAttribute=function(a,b,c){return this.attrs.push({name:a,val:b,escaped:c}),this},f.prototype.removeAttribute=function(a){for(var b=0,c=this.attrs.length;b<c;++b)this.attrs[b]&&this.attrs[b].name==a&&delete this.attrs[b]},f.prototype.getAttribute=function(a){for(var b=0,c=this.attrs.length;b<c;++b)if(this.attrs[b]&&this.attrs[b].name==a)return this.attrs[b].val}}),require.register("nodes/block-comment.js",function(a,b,c){var d=c("./node"),e=a.exports=function(a,b,c){this.block=b,this.val=a,this.buffer=c};e.prototype=new d,e.prototype.constructor=e}),require.register("nodes/block.js",function(a,b,c){var d=c("./node"),e=a.exports=function(a){this.nodes=[],a&&this.push(a)};e.prototype=new d,e.prototype.constructor=e,e.prototype.isBlock=!0,e.prototype.replace=function(a){a.nodes=this.nodes},e.prototype.push=function(a){return this.nodes.push(a)},e.prototype.isEmpty=function(){return 0==this.nodes.length},e.prototype.unshift=function(a){return this.nodes.unshift(a)},e.prototype.includeBlock=function(){var a=this,b;for(var c=0,d=this.nodes.length;c<d;++c){b=this.nodes[c];if(b.yield)return b;if(b.textOnly)continue;b.includeBlock?a=b.includeBlock():b.block&&!b.block.isEmpty()&&(a=b.block.includeBlock())}return a},e.prototype.clone=function(){var a=new e;for(var b=0,c=this.nodes.length;b<c;++b)a.push(this.nodes[b].clone());return a}}),require.register("nodes/case.js",function(a,b,c){var d=c("./node"),e=b=a.exports=function(a,b){this.expr=a,this.block=b};e.prototype=new d,e.prototype.constructor=e;var f=b.When=function(a,b){this.expr=a,this.block=b,this.debug=!1};f.prototype=new d,f.prototype.constructor=f}),require.register("nodes/code.js",function(a,b,c){var d=c("./node"),e=a.exports=function(a,b,c){this.val=a,this.buffer=b,this.escape=c,a.match(/^ *else/)&&(this.debug=!1)};e.prototype=new d,e.prototype.constructor=e}),require.register("nodes/comment.js",function(a,b,c){var d=c("./node"),e=a.exports=function(a,b){this.val=a,this.buffer=b};e.prototype=new d,e.prototype.constructor=e}),require.register("nodes/doctype.js",function(a,b,c){var d=c("./node"),e=a.exports=function(a){this.val=a};e.prototype=new d,e.prototype.constructor=e}),require.register("nodes/each.js",function(a,b,c){var d=c("./node"),e=a.exports=function(a,b,c,d){this.obj=a,this.val=b,this.key=c,this.block=d};e.prototype=new d,e.prototype.constructor=e}),require.register("nodes/filter.js",function(a,b,c){var d=c("./node"),e=c("./block"),f=a.exports=function(a,b,c){this.name=a,this.block=b,this.attrs=c,this.isASTFilter=!b.nodes.every(function(a){return a.isText})};f.prototype=new d,f.prototype.constructor=f}),require.register("nodes/index.js",function(a,b,c){b.Node=c("./node"),b.Tag=c("./tag"),b.Code=c("./code"),b.Each=c("./each"),b.Case=c("./case"),b.Text=c("./text"),b.Block=c("./block"),b.Mixin=c("./mixin"),b.Filter=c("./filter"),b.Comment=c("./comment"),b.Literal=c("./literal"),b.BlockComment=c("./block-comment"),b.Doctype=c("./doctype")}),require.register("nodes/literal.js",function(a,b,c){var d=c("./node"),e=a.exports=function(a){this.str=a.replace(/\\/g,"\\\\").replace(/\n|\r\n/g,"\\n").replace(/'/g,"\\'")};e.prototype=new d,e.prototype.constructor=e}),require.register("nodes/mixin.js",function(a,b,c){var d=c("./attrs"),e=a.exports=function(a,b,c,d){this.name=a,this.args=b,this.block=c,this.attrs=[],this.call=d};e.prototype=new d,e.prototype.constructor=e}),require.register("nodes/node.js",function(a,b,c){var d=a.exports=function(){};d.prototype.clone=function(){return this}}),require.register("nodes/tag.js",function(a,b,c){var d=c("./attrs"),e=c("./block"),f=c("../inline-tags"),g=a.exports=function(a,b){this.name=a,this.attrs=[],this.block=b||new e};g.prototype=new d,g.prototype.constructor=g,g.prototype.clone=function(){var a=new g(this.name,this.block.clone());return a.line=this.line,a.attrs=this.attrs,a.textOnly=this.textOnly,a},g.prototype.isInline=function(){return~f.indexOf(this.name)},g.prototype.canInline=function(){function b(a){return a.isBlock?a.nodes.every(b):a.isText||a.isInline&&a.isInline()}var a=this.block.nodes;if(!a.length)return!0;if(1==a.length)return b(a[0]);if(this.block.nodes.every(b)){for(var c=1,d=a.length;c<d;++c)if(a[c-1].isText&&a[c].isText)return!1;return!0}return!1}}),require.register("nodes/text.js",function(a,b,c){var d=c("./node"),e=a.exports=function(a){this.val="","string"==typeof a&&(this.val=a)};e.prototype=new d,e.prototype.constructor=e,e.prototype.isText=!0}),require.register("parser.js",function(a,b,c){var d=c("./lexer"),e=c("./nodes"),f=b=a.exports=function(a,b,c){this.input=a,this.lexer=new d(a,c),this.filename=b,this.blocks={},this.mixins={},this.options=c,this.contexts=[this]},g=b.textOnly=["script","style"];f.prototype={context:function(a){if(a)this.contexts.push(a);else return this.contexts.pop()},advance:function(){return this.lexer.advance()},skip:function(a){while(a--)this.advance()},peek:function(){return this.lookahead(1)},line:function(){return this.lexer.lineno},lookahead:function(a){return this.lexer.lookahead(a)},parse:function(){var a=new e.Block,b;a.line=this.line();while("eos"!=this.peek().type)"newline"==this.peek().type?this.advance():a.push(this.parseExpr());if(b=this.extending){this.context(b);var c=b.parse();this.context();for(var d in this.mixins)c.unshift(this.mixins[d]);return c}return a},expect:function(a){if(this.peek().type===a)return this.advance();throw new Error('expected "'+a+'", but got "'+this.peek().type+'"')},accept:function(a){if(this.peek().type===a)return this.advance()},parseExpr:function(){switch(this.peek().type){case"tag":return this.parseTag();case"mixin":return this.parseMixin();case"block":return this.parseBlock();case"case":return this.parseCase();case"when":return this.parseWhen();case"default":return this.parseDefault();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"doctype":return this.parseDoctype();case"filter":return this.parseFilter();case"comment":return this.parseComment();case"text":return this.parseText();case"each":return this.parseEach();case"code":return this.parseCode();case"call":return this.parseCall();case"yield":this.advance();var a=new e.Block;return a.yield=!0,a;case"id":case"class":var b=this.advance();return this.lexer.defer(this.lexer.tok("tag","div")),this.lexer.defer(b),this.parseExpr();default:throw new Error('unexpected token "'+this.peek().type+'"')}},parseText:function(){var a=this.expect("text"),b=new e.Text(a.val);return b.line=this.line(),b},parseBlockExpansion:function(){return":"==this.peek().type?(this.advance(),new e.Block(this.parseExpr())):this.block()},parseCase:function(){var a=this.expect("case").val,b=new e.Case(a);return b.line=this.line(),b.block=this.block(),b},parseWhen:function(){var a=this.expect("when").val;return new e.Case.When(a,this.parseBlockExpansion())},parseDefault:function(){return this.expect("default"),new e.Case.When("default",this.parseBlockExpansion())},parseCode:function(){var a=this.expect("code"),b=new e.Code(a.val,a.buffer,a.escape),c,d=1;b.line=this.line();while(this.lookahead(d)&&"newline"==this.lookahead(d).type)++d;return c="indent"==this.lookahead(d).type,c&&(this.skip(d-1),b.block=this.block()),b},parseComment:function(){var a=this.expect("comment"),b;return"indent"==this.peek().type?b=new e.BlockComment(a.val,this.block(),a.buffer):b=new e.Comment(a.val,a.buffer),b.line=this.line(),b},parseDoctype:function(){var a=this.expect("doctype"),b=new e.Doctype(a.val);return b.line=this.line(),b},parseFilter:function(){var a,b=this.expect("filter"),c=this.accept("attrs");this.lexer.pipeless=!0,a=this.parseTextBlock(),this.lexer.pipeless=!1;var d=new e.Filter(b.val,a,c&&c.attrs);return d.line=this.line(),d},parseASTFilter:function(){var a,b=this.expect("tag"),c=this.accept("attrs");this.expect(":"),a=this.block();var d=new e.Filter(b.val,a,c&&c.attrs);return d.line=this.line(),d},parseEach:function(){var a=this.expect("each"),b=new e.Each(a.code,a.val,a.key);return b.line=this.line(),b.block=this.block(),b},parseExtends:function(){var a=c("path"),b=c("fs"),d=a.dirname,g=a.basename,h=a.join;if(!this.filename)throw new Error('the "filename" option is required to extend templates');var a=this.expect("extends").val.trim(),i=d(this.filename),a=h(i,a+".jade"),j=b.readFileSync(a,"utf8"),k=new f(j,a,this.options);return k.blocks=this.blocks,k.contexts=this.contexts,this.extending=k,new e.Literal("")},parseBlock:function(){var a=this.expect("block"),b=a.mode,c=a.val.trim();a="indent"==this.peek().type?this.block():new e.Block(new e.Literal(""));var d=this.blocks[c];if(d)switch(d.mode){case"append":a.nodes=a.nodes.concat(d.nodes),d=a;break;case"prepend":a.nodes=d.nodes.concat(a.nodes),d=a}return a.mode=b,this.blocks[c]=d||a},parseInclude:function(){var a=c("path"),b=c("fs"),d=a.dirname,g=a.basename,h=a.join,a=this.expect("include").val.trim(),i=d(this.filename);if(!this.filename)throw new Error('the "filename" option is required to use includes');~g(a).indexOf(".")||(a+=".jade");if(".jade"!=a.substr(-5)){var a=h(i,a),j=b.readFileSync(a,"utf8");return new e.Literal(j)}var a=h(i,a),j=b.readFileSync(a,"utf8"),k=new f(j,a,this.options);k.blocks=this.blocks,k.mixins=this.mixins,this.context(k);var l=k.parse();return this.context(),l.filename=a,"indent"==this.peek().type&&l.includeBlock().push(this.block()),l},parseCall:function(){var a=this.expect("call"),b=a.val,c=a.args,d=new e.Mixin(b,c,new e.Block,!0);return this.tag(d),d.block.isEmpty()&&(d.block=null),d},parseMixin:function(){var a=this.expect("mixin"),b=a.val,c=a.args,d;return"indent"==this.peek().type?(d=new e.Mixin(b,c,this.block(),!1),this.mixins[b]=d,d):new e.Mixin(b,c,null,!0)},parseTextBlock:function(){var a=new e.Block;a.line=this.line();var b=this.expect("indent").val;null==this._spaces&&(this._spaces=b);var c=Array(b-this._spaces+1).join(" ");while("outdent"!=this.peek().type)switch(this.peek().type){case"newline":this.advance();break;case"indent":this.parseTextBlock().nodes.forEach(function(b){a.push(b)});break;default:var d=new e.Text(c+this.advance().val);d.line=this.line(),a.push(d)}return b==this._spaces&&(this._spaces=null),this.expect("outdent"),a},block:function(){var a=new e.Block;a.line=this.line(),this.expect("indent");while("outdent"!=this.peek().type)"newline"==this.peek().type?this.advance():a.push(this.parseExpr());return this.expect("outdent"),a},parseTag:function(){var a=2;"attrs"==this.lookahead(a).type&&++a;if(":"==this.lookahead(a).type&&"indent"==this.lookahead(++a).type)return this.parseASTFilter();var b=this.advance(),c=new e.Tag(b.val);return c.selfClosing=b.selfClosing,this.tag(c)},tag:function(a){var b;a.line=this.line();c:for(;;)switch(this.peek().type){case"id":case"class":var d=this.advance();a.setAttribute(d.type,"'"+d.val+"'");continue;case"attrs":var d=this.advance(),f=d.attrs,h=d.escaped,i=Object.keys(f);d.selfClosing&&(a.selfClosing=!0);for(var j=0,k=i.length;j<k;++j){var l=i[j],m=f[l];a.setAttribute(l,m,h[l])}continue;default:break c}"."==this.peek().val&&(b=a.textOnly=!0,this.advance());switch(this.peek().type){case"text":a.block.push(this.parseText());break;case"code":a.code=this.parseCode();break;case":":this.advance(),a.block=new e.Block,a.block.push(this.parseExpr())}while("newline"==this.peek().type)this.advance();a.textOnly=a.textOnly||~g.indexOf(a.name);if("script"==a.name){var n=a.getAttribute("type");!b&&n&&"text/javascript"!=n.replace(/^['"]|['"]$/g,"")&&(a.textOnly=!1)}if("indent"==this.peek().type)if(a.textOnly)this.lexer.pipeless=!0,a.block=this.parseTextBlock(),this.lexer.pipeless=!1;else{var o=this.block();if(a.block)for(var j=0,k=o.nodes.length;j<k;++j)a.block.push(o.nodes[j]);else a.block=o}return a}}}),require.register("runtime.js",function(a,b,c){function d(a){return a!=null}Array.isArray||(Array.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),b.merge=function e(a,b){var c=a.class,e=b.class;if(c||e)c=c||[],e=e||[],Array.isArray(c)||(c=[c]),Array.isArray(e)||(e=[e]),c=c.filter(d),e=e.filter(d),a.class=c.concat(e).join(" ");for(var f in b){if("class"==f)continue;a[f]=b[f]}return a},b.attrs=function f(a,c){var d=[],e=a.terse;delete a.terse;var f=Object.keys(a),g=f.length;if(g){d.push("");for(var h=0;h<g;++h){var i=f[h],j=a[i];"boolean"==typeof j||null==j?j&&(e?d.push(i):d.push(i+'="'+i+'"')):0==i.indexOf("data")&&"string"!=typeof j?d.push(i+"='"+JSON.stringify(j)+"'"):"class"==i&&Array.isArray(j)?d.push(i+'="'+b.escape(j.join(" "))+'"'):c[i]?d.push(i+'="'+b.escape(j)+'"'):d.push(i+'="'+j+'"')}}return d.join(" ")},b.escape=function(a){return String(a).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},b.rethrow=function h(a,b,d){if(!b)throw a;var e=3,f=c("fs").readFileSync(b,"utf8"),g=f.split("\n"),h=Math.max(d-e,0),i=Math.min(g.length,d+e),e=g.slice(h,i).map(function(a,b){var c=b+h+1;return(c==d?"  > ":"    ")+c+"| "+a}).join("\n");throw a.path=b,a.message=(b||"Jade")+":"+d+"\n"+e+"\n\n"+a.message,a}}),require.register("self-closing.js",function(a,b,c){a.exports=["meta","img","link","input","source","area","base","col","br","hr"]}),require.register("utils.js",function(a,b,c){var d=b.interpolate=function(a){return a.replace(/(\\)?([#!]){(.*?)}/g,function(a,b,c,d){return b?a:"' + "+("!"==c?"":"escape")+"((interp = "+d.replace(/\\'/g,"'")+") == null ? '' : interp) + '"})},e=b.escape=function(a){return a.replace(/'/g,"\\'")};b.text=function(a){return d(e(a))}}),window.jade=require("jade")})();var TemplatoJade;TemplatoJade=function(){function a(){this.engine=require("jade")}return a.prototype.compile=function(a){return this.engine.compile(a)},a.prototype.render=function(a,b){return a(b)},a}(),typeof module!="undefined"&&module!==null&&(module.exports=TemplatoJade);