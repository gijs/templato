/*! templato - v0.1.0 - 2012-05-29
* Copyright (c) 2012 Vadim Demedes; Licensed MIT. */
var Templato,TemplatoEJS,TemplatoEco,TemplatoJade,TemplatoMustache;typeof module!="undefined"&&module!==null&&(TemplatoEJS=require("./engines/ejs"),TemplatoEco=require("./engines/eco"),TemplatoMustache=require("./engines/mustache"),TemplatoJade=require("./engines/jade")),Templato=function(){function a(){this.helpers={}}return a.registerHelper=function(a,b){return this.helpers||(this.helpers={}),this.helpers[a]=b},a.detectEngine=function(a){switch(a){case"ejs":return"ejs";case"eco":return"eco";case"mu":case"mustache":return"mustache";case"jade":return"jade"}},a.prototype.set=function(a){this.engine=function(){switch(a.engine){case"ejs":return new TemplatoEJS;case"eco":return new TemplatoEco;case"mustache":case"mu":return new TemplatoMustache;case"jade":return new TemplatoJade}}();if(a.template)return this.template=a.template,delete this.fn},a.prototype.registerHelper=function(a,b){return this.helpers[a]=b},a.prototype.compile=function(){return this.fn?this.fn:this.fn=this.engine.compile(this.template)},a.prototype.render=function(b){var c;b==null&&(b={});for(c in this.helpers)b[c]=this.helpers[c];for(c in a.helpers)b[c]=a.helpers[c];return this.engine.render(this.compile(),b)},a}(),typeof module!="undefined"&&module!==null&&(module.exports=Templato);